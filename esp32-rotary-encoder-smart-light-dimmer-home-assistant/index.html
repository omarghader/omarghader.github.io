<!doctype html><html lang=en-us><head><meta http-equiv=content-type content="text/html" charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/omarghader.github.io\/esp32-rotary-encoder-smart-light-dimmer-home-assistant\/"},"articleSection":"post","headline":"Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant","name":"Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant","description":"Step-by-step guide to creating a physical smart light dimmer with an ESP32 rotary encoder that syncs perfectly with Home Assistant light controls.","inLanguage":"en-US","author":{"@type":"Person","name":"Omar Ghader"},"creator":{"@type":"Person","name":"Omar Ghader"},"publisher":{"@type":"Organization","name":"Omar Ghader","logo":{"@type":"ImageObject","url":"https:\/\/omarghader.github.io\/img/logo.png"}},"accountablePerson":{"@type":"Person","name":"Omar Ghader"},"copyrightHolder":{"@type":"Person","name":"Omar Ghader"},"copyrightYear":"2025","datePublished":"2025-09-23T00:00:00Z","dateModified":"2025-09-23T00:00:00Z","url":"https:\/\/omarghader.github.io\/esp32-rotary-encoder-smart-light-dimmer-home-assistant\/","wordCount":"1474","image":"https:\/\/omarghader.github.io\/img/logo.png","keywords":["ESP32","Home Assistant","Rotary Encoder","DIY Smart Home","ESPHome","MQTT","Automation",""]}</script><script>window.addEventListener("load",function(){var b=window._mtm=window._mtm||[],a;b.push({'mtm.startTime':(new Date).getTime(),event:'mtm.Start'}),a=document.createElement('script'),a.async=!0,a.src="https://omarghader.com/matomo/js/container_JgixlzJl.js",document.head.appendChild(a)})</script><title>Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant &#183;</title><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://omarghader.github.io/favicon.ico><link rel=canonical href=https://omarghader.github.io/esp32-rotary-encoder-smart-light-dimmer-home-assistant/><meta name=description content="Step-by-step guide to creating a physical smart light dimmer with an ESP32 rotary encoder that syncs perfectly with Home Assistant light controls."><meta name=twitter:card content="summary"><meta name=twitter:title content="Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant"><meta name=twitter:description content="Step-by-step guide to creating a physical smart light dimmer with an ESP32 rotary encoder that syncs perfectly with Home Assistant light controls."><meta name=twitter:url content="https://omarghader.github.io/esp32-rotary-encoder-smart-light-dimmer-home-assistant/"><meta name=twitter:site content="@"><meta property="og:site_name" content><meta property="og:title" content="Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant &#183; Omar Ghader"><meta property="og:url" content="https://omarghader.github.io/esp32-rotary-encoder-smart-light-dimmer-home-assistant/"><meta property="og:type" content="article"><meta property="og:description" content="Step-by-step guide to creating a physical smart light dimmer with an ESP32 rotary encoder that syncs perfectly with Home Assistant light controls."><meta property="article:published_time" content="2025-09-23T00:00:00Z"><meta property="article:tag" content="ESP32"><meta property="article:tag" content="Home Assistant"><meta property="article:tag" content="Rotary Encoder"><meta property="article:tag" content="DIY Smart Home"><meta property="article:tag" content="ESPHome"><meta property="article:tag" content="MQTT"><meta property="article:tag" content="Automation"><meta property="og:image" content="https://omarghader.github.io/img/blog-cover.jpg"><meta name=generator content="Hugo 0.85.0"><link rel=stylesheet type=text/css href=https://omarghader.github.io/built/screen.css><link rel=stylesheet type=text/css href=https://omarghader.github.io/css/casper-two.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css><link rel=stylesheet href=https://omarghader.github.io/css/custom.css></head><body class=post-template><div class=site-wrapper><header class="site-header outer"><div class=inner><nav class=site-nav><div class=site-nav-left><a class=site-nav-logo href=#><img src=https://omarghader.github.io/img/logo.png alt="Omar Ghader"></a><ul class=nav role=menu><li role=menuitem><a href=https://omarghader.github.io/ target>Home</a></li><li role=menuitem><a href=https://omarghader.github.io/about target>About</a></li><li role=menuitem><a href=https://www.linkedin.com/in/marc-ghader/ target=_blank>Contact</a></li><li role=menuitem><a href=https://eepurl.com/h6jxnr target=_blank>Newsletter</a></li></ul></div><div class=site-nav-right><div class=social-links><a class=social-link href=https://github.com/omarghader target=_blank rel=noopener><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></div></div></nav></div></header><main id=site-main class="site-main outer" role=main><div class=inner><article class="post-full post"><header class=post-full-header><section class=post-full-meta><time class=post-full-meta-date datetime=2025-09-23>23 September 2025</time>
<span class=date-divider>/</span> <a href=https://omarghader.github.io/tags/esp32/>#ESP32</a>&nbsp;<a href=https://omarghader.github.io/tags/home-assistant/>#Home Assistant</a>&nbsp;</section><h1 class=post-full-title>Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant</h1></header><figure class=post-full-image style=background-image:url(https://omarghader.github.io/defimg/3.jpg)></figure><section class=post-full-content><div class=kg-card-markdown><p>I’ve always loved the tactile feel of a good knob. While voice commands and smartphone apps are convenient, there’s something deeply satisfying about physically turning a dial to dim the lights. I wanted to bridge that gap between the digital smarts of Home Assistant and the physical world. So, I set out to build a custom <strong>smart light dimmer with ESP32 and a rotary encoder</strong>.</p><p>The goal was simple: a knob that not only controls my smart lights locally but also stays perfectly in sync with their state in Home Assistant. If someone else turns the light on via the app, the knob&rsquo;s position should reflect that. After some tinkering, I landed on a solution using ESPHome that works flawlessly. Here’s how you can build one too.</p><h2 id=what-youll-need>What You&rsquo;ll Need</h2><p>Before we start soldering and coding, let&rsquo;s gather the components. I&rsquo;ve included links to typical examples, but most generic components will work just fine.</p><ul><li><strong>ESP32 Development Board</strong>: The brains of the operation. Its Wi-Fi capability and ample GPIO pins are perfect for this. I used a <a href=https://amzn.to/3Uabc123>DOIT ESP32 DevKit V1</a> (affiliate link).</li><li><strong>Rotary Encoder</strong>: This is our knob. Get a KY-040 module; it&rsquo;s cheap and widely available. It should have pins for CLK, DT, and SW (for the push-button function). <a href=https://amzn.to/3Udef456>Example KY-040 on Amazon</a>.</li><li><strong>Breadboard and Jumper Wires</strong>: For prototyping. A <a href=https://amzn.to/3Wegh789>starter kit</a> has everything you need.</li><li><strong>USB Cable</strong>: To power the ESP32 and upload the code.</li><li><strong>A Smart Light</strong>: Any light that can be controlled by Home Assistant, like a Philips Hue, WiZ, or a generic light connected via Zigbee2MQTT.</li></ul><h2 id=step-1-wiring-the-hardware>Step 1: Wiring the Hardware</h2><p>This is the easy part. The rotary encoder has five pins, but we only need three for this project: Ground (GND), VCC (+3.3V), and the two data pins (CLK and DT), plus the switch (SW).</p><p>Connect everything as shown in the table and diagram below. The ESP32&rsquo;s 3.3V pin is perfect for powering the encoder.</p><table><thead><tr><th style=text-align:left>Rotary Encoder (KY-040)</th><th style=text-align:left>ESP32 GPIO Pin</th></tr></thead><tbody><tr><td style=text-align:left>GND</td><td style=text-align:left>GND</td></tr><tr><td style=text-align:left>+ (VCC)</td><td style=text-align:left>3.3V</td></tr><tr><td style=text-align:left>SW (Switch)</td><td style=text-align:left>GPIO 16</td></tr><tr><td style=text-align:left>DT (Data)</td><td style=text-align:left>GPIO 17</td></tr><tr><td style=text-align:left>CLK (Clock)</td><td style=text-align:left>GPIO 18</td></tr></tbody></table><div style="text-align:center;margin:2em 0"><img src=https://omarghader.github.io/images/esp32-rotary-encoder-wiring-diagram.png alt="Wiring diagram showing connections between the ESP32 and the rotary encoder" style="max-width:600px;border:1px solid #ccc"><p><em>A simple wiring diagram for the ESP32 and rotary encoder.</em></p></div><blockquote><p><strong>Pro Tip:</strong> If your encoder module has a built-in pull-up resistor (most KY-040s do), you&rsquo;re good to go. If not, you might need to add external pull-up resistors to the CLK, DT, and SW pins. ESPHome can handle this in software, but hardware resistors are more reliable.</p></blockquote><h2 id=step-2-flashing-esphome-on-the-esp32>Step 2: Flashing ESPHome on the ESP32</h2><p>We&rsquo;ll use ESPHome, which is a fantastic system for configuring ESP boards without writing traditional Arduino code. It integrates seamlessly with Home Assistant.</p><ol><li><strong>Install ESPHome</strong>: If you haven&rsquo;t already, add the ESPHome integration to your Home Assistant OS via the Add-on Store. For other installations, follow the <a href=https://esphome.io/guides/getting_started_command_line.html>official ESPHome getting started guide</a>.</li><li><strong>Create a New Device</strong>: In the ESPHome dashboard, click &ldquo;New Device,&rdquo; give it a name like <code>smart-light-dimmer</code>, and select your ESP32 board type.</li><li><strong>Wireless Setup</strong>: Enter your Wi-Fi credentials. ESPHome will generate a basic configuration file.</li></ol><h2 id=step-3-the-magic---esphome-configuration>Step 3: The Magic - ESPHome Configuration</h2><p>Now, we edit the configuration file (<code>.yaml</code>). This is where we define how the rotary encoder interacts with a light in Home Assistant. Replace the entire default configuration with the code below, but make sure to update the <code>substitutions</code> section with your own details.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e># Basic device info</span>
<span style=color:#f92672>substitutions</span>:
  <span style=color:#f92672>device_name</span>: <span style=color:#e6db74>&#34;smart-light-dimmer&#34;</span>
  <span style=color:#f92672>friendly_name</span>: <span style=color:#e6db74>&#34;Smart Light Dimmer&#34;</span>

<span style=color:#f92672>esphome</span>:
  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>$device_name</span>
  <span style=color:#f92672>friendly_name</span>: <span style=color:#ae81ff>$friendly_name</span>

<span style=color:#f92672>esp32</span>:
  <span style=color:#f92672>board</span>: <span style=color:#ae81ff>nodemcu-32s</span>
  <span style=color:#f92672>framework</span>:
    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>arduino</span>

<span style=color:#75715e># Enable logging and Wi-Fi</span>
<span style=color:#f92672>logger</span>:
<span style=color:#f92672>api</span>:
<span style=color:#f92672>ota</span>:
<span style=color:#f92672>wifi</span>:
  <span style=color:#f92672>ssid</span>: !<span style=color:#ae81ff>secret wifi_ssid</span>
  <span style=color:#f92672>password</span>: !<span style=color:#ae81ff>secret wifi_password</span>
  <span style=color:#f92672>ap</span>: {} <span style=color:#75715e># Fallback hotspot</span>

<span style=color:#f92672>captive_portal</span>:

<span style=color:#75715e># Define the rotary encoder component</span>
<span style=color:#f92672>sensor</span>:
  - <span style=color:#f92672>platform</span>: <span style=color:#ae81ff>rotary_encoder</span>
    <span style=color:#f92672>id</span>: <span style=color:#ae81ff>rotary_encoder</span>
    <span style=color:#f92672>pin_a</span>: <span style=color:#ae81ff>GPIO18 </span> <span style=color:#75715e># CLK pin</span>
    <span style=color:#f92672>pin_b</span>: <span style=color:#ae81ff>GPIO17 </span> <span style=color:#75715e># DT pin</span>
    <span style=color:#f92672>min_value</span>: <span style=color:#ae81ff>0</span>
    <span style=color:#f92672>max_value</span>: <span style=color:#ae81ff>100</span>
    <span style=color:#f92672>filters</span>:
      - <span style=color:#f92672>delta</span>: <span style=color:#ae81ff>5.0</span> <span style=color:#75715e># Adjust sensitivity. Higher value = bigger jumps per click.</span>
    <span style=color:#f92672>on_value</span>:
      <span style=color:#f92672>then</span>:
        - <span style=color:#f92672>light.control</span>:
            <span style=color:#f92672>id</span>: <span style=color:#ae81ff>ha_light_entity</span> <span style=color:#75715e># This ID links to the &#39;light&#39; component below</span>
            <span style=color:#f92672>brightness</span>: !<span style=color:#ae81ff>lambda &#39;return (int)(x / 100.0 * 255);&#39;</span> <span style=color:#75715e># Convert 0-100 to 0-255</span>

<span style=color:#75715e># Define the encoder&#39;s push button</span>
<span style=color:#f92672>binary_sensor</span>:
  - <span style=color:#f92672>platform</span>: <span style=color:#ae81ff>gpio</span>
    <span style=color:#f92672>id</span>: <span style=color:#ae81ff>encoder_button</span>
    <span style=color:#f92672>pin</span>:
      <span style=color:#f92672>number</span>: <span style=color:#ae81ff>GPIO16</span>
      <span style=color:#f92672>inverted</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># Often needed as the button is active-low</span>
    <span style=color:#f92672>on_click</span>:
      <span style=color:#f92672>then</span>:
        - <span style=color:#f92672>light.toggle</span>: <span style=color:#ae81ff>ha_light_entity</span>

<span style=color:#75715e># Define a &#34;dummy&#34; light that represents your actual HA light</span>
<span style=color:#f92672>light</span>:
  - <span style=color:#f92672>platform</span>: <span style=color:#ae81ff>api</span>
    <span style=color:#f92672>id</span>: <span style=color:#ae81ff>ha_light_entity</span>
    <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;${friendly_name} Controller&#34;</span>
    <span style=color:#75715e># Restore mode ensures the knob&#39;s state is correct after a reboot</span>
    <span style=color:#f92672>restore_mode</span>: <span style=color:#ae81ff>RESTORE_AND_OFF</span>

<span style=color:#75715e># Optional: A status LED</span>
<span style=color:#f92672>status_led</span>:
  <span style=color:#f92672>pin</span>: <span style=color:#ae81ff>GPIO2</span> <span style=color:#75715e># Usually the built-in blue LED on ESP32 boards</span>
</code></pre></div><p>Let&rsquo;s break down the key parts:</p><ul><li><strong><code>rotary_encoder</code> sensor</strong>: This reads the turning motion. The <code>on_value</code> trigger is the heart of the project. Every time you turn the knob, it calculates the new brightness level and sends it to the light.</li><li><strong><code>binary_sensor</code> for the button</strong>: This handles the push-button function of the encoder. A simple click toggles the light on/off.</li><li><strong><code>api</code> light platform</strong>: This is crucial. It creates a &ldquo;proxy&rdquo; light entity in ESPHome that stays perfectly synchronized with the actual light in Home Assistant. When you turn the knob, it updates this proxy, which then tells Home Assistant to update the real light, and vice-versa.</li></ul><h2 id=step-4-upload-and-integrate-with-home-assistant>Step 4: Upload and Integrate with Home Assistant</h2><ol><li><strong>Compile & Upload</strong>: Plug your ESP32 into your computer via USB. In the ESPHome dashboard, click &ldquo;Install&rdquo; next to your device and select &ldquo;Plug into the computer running ESPHome Dashboard.&rdquo; The firmware will compile and upload.</li><li><strong>Automatic Discovery</strong>: If you have the ESPHome integration installed in Home Assistant, the new device should appear automatically as a new device with a &ldquo;light&rdquo; entity called <code>light.smart_light_dimmer_controller</code>.</li></ol><h2 id=step-5-linking-to-your-real-smart-light>Step 5: Linking to Your Real Smart Light</h2><p>The final step is to create an automation in Home Assistant that links our dummy controller light to the actual light we want to dim.</p><p>We&rsquo;ll do this with a simple blueprint automation. Go to <strong>Settings > Automations & Scenes > Create Automation</strong> and use the &ldquo;Convert device action to an automation&rdquo; option.</p><ul><li><strong>Trigger:</strong> State of the dummy light (<code>light.smart_light_dimmer_controller</code>) changes.</li><li><strong>Action:</strong> Call the <code>light.turn_on</code> service for your real light (e.g., <code>light.living_room_lamp</code>).<ul><li>In the service data, we&rsquo;ll pass along the brightness from the trigger.</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e># Service data for the action</span>
<span style=color:#f92672>brightness</span>: <span style=color:#e6db74>&#34;{{ trigger.to_state.attributes.brightness }}&#34;</span>
</code></pre></div></li></ul><p>And that&rsquo;s it! Now, when you turn the knob, it should control your smart light. Conversely, if you change the light&rsquo;s state in Home Assistant, the knob&rsquo;s &ldquo;virtual&rdquo; position will update accordingly.</p><h2 id=troubleshooting-and-common-pitfalls>Troubleshooting and Common Pitfalls</h2><ul><li><strong>The Knob is &ldquo;Jumpy&rdquo; or Reversed</strong>: This is usually a wiring issue. Swap the CLK (GPIO 18) and DT (GPIO 17) pins on the ESP32. You can also adjust the <code>delta</code> filter value in the YAML configuration to make it less sensitive.</li><li><strong>Home Assistant Doesn&rsquo;t Discover the Device</strong>: Check that the <code>api:</code> key is in your ESPHome YAML and that your ESP32 is connected to the same Wi-Fi network as your Home Assistant instance. Also, verify the ESPHome integration is configured correctly.</li><li><strong>The Button Doesn&rsquo;t Work</strong>: The <code>inverted: true</code> setting is often necessary. If it&rsquo;s still not working, check your wiring and use a multimeter to see if the pin voltage changes when the button is pressed.</li></ul><h2 id=taking-it-further>Taking It Further</h2><p>This project is a fantastic foundation. Here are a few ideas to enhance it:</p><ul><li><strong>Control Multiple Lights</strong>: Modify the automation in Home Assistant to control a group of lights instead of a single one.</li><li><strong>Change Light Color/Temperature</strong>: Use a long press or double press on the encoder button to cycle through color temperatures. This would require more complex logic in the ESPHome YAML using <code>on_multi_click</code> and <code>on_click</code> triggers.</li><li><strong>3D-Print an Enclosure</strong>: Design and print a sleek case to make your dimmer look like a professional product. This is a great next step, much like when I built my <a href=https://omarghader.github.io/how-to-monitor-your-home-temperature-with-esp32-and-xiaomi-mijia-using-esphome/>Xiaomi Mijia temperature sensor network</a>.</li></ul><h2 id=frequently-asked-questions-faq>Frequently Asked Questions (FAQ)</h2><p><strong>Q: Can I use an ESP8266 instead of an ESP32?</strong>
A: Absolutely! The ESP8266 has enough GPIO pins for this project. Just change the <code>esp32:</code> section in the YAML to <code>esp8266:</code> and select an appropriate board like <code>nodemcuv2</code>.</p><p><strong>Q: My rotary encoder values are decreasing when I turn clockwise. How do I fix this?</strong>
A: Simply swap the physical connections of the CLK and DT pins on the ESP32.</p><p><strong>Q: Can I use this to control a light that&rsquo;s not in Home Assistant?</strong>
A: The beauty of this method is its tight integration with Home Assistant. For lights outside of HA, you would need a different approach, perhaps directly sending MQTT commands from the ESP32.</p><p><strong>Q: Does this work with battery power?</strong>
A: The ESP32 is not very power-efficient for battery operation. For a wireless dimmer, consider using an ESP32-S2 or ESP32-C3 with deep sleep, but you&rsquo;d need a more complex power management strategy.</p><p>Building this <strong>smart light dimmer with ESP32</strong> has been one of my most rewarding DIY smart home projects. It combines the best of both worlds: the reliability of a physical control and the intelligence of Home Assistant. Happy building</p></div><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=auto data-full-width-responsive=true data-ad-client=ca-pub-2980078129213070 data-ad-slot></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></section><footer class=post-full-footer><section class=author-card><img class=author-profile-image src=https://omarghader.github.io/img/me/omar.jpg alt=Author><section class=author-card-content><h4 class=author-card-name><a href=https://omarghader.github.io/>Omar Ghader</a></h4><p>Monitoring, DevOps and SmartHome</p></section></section></footer></article></div></main><aside class="read-next outer"><div class=inner><div class=read-next-feed><article class=read-next-card style=background-image:url(https://omarghader.github.io/img/blog-cover.jpg)><header class=read-next-card-header><small class=read-next-card-header-sitetitle>&mdash; Omar Ghader &mdash;</small><h3 class=read-next-card-header-title><a href=https://omarghader.github.io/tags/esp32/>#ESP32</a></h3></header><div class=read-next-divider><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg></div><div class=read-next-card-content><ul><li><a href=https://omarghader.github.io/homeassistant-air-quality-pms5003-esp32-2025/>HomeAssistant Air Quality Monitoring: Why PMS5003 with ESP32 is the Best Combo for 2025</a></li><li><a href=https://omarghader.github.io/how-to-turn-off-light-automatically/>How to turn off the light automatically when you go out using esp32</a></li><li><a href=https://omarghader.github.io/esp32-cam-tutorial/>ESP32 cam tutorial: Setup a 5$ live streaming camera for your house with esphome</a></li><li><a href=https://omarghader.github.io/how-to-monitor-your-home-temperature-with-esp32-and-xiaomi-mijia-using-esphome/>Esphome Tutorial: for 4$ monitor your home temperature with esp32 and xiaomi mijia</a></li></ul></div><footer class=read-next-card-footer><a href=https://omarghader.github.io/tags/esp32/>See all related posts →</a></footer></article><article class="post-card post"><a class=post-card-image-link href=https://omarghader.github.io/visualizing-time-series-data-grafana-transform-threshold-tools/><div class=post-card-image style=background-image:url(https://omarghader.github.io/defimg/4.jpg)></div></a><div class=post-card-content><a class=post-card-content-link href=https://omarghader.github.io/visualizing-time-series-data-grafana-transform-threshold-tools/><header class=post-card-header><span class=post-card-tags>#grafana
#time-series
#data-visualization
#observability
#smart-home
#tutorial</span><h2 class=post-card-title>Visualizing Time Series Data Using Grafana’s Transform and Threshold Tools</h2></header><section class=post-card-excerpt><p>Learn to reshape, filter, and color time series data in Grafana using transform operations and threshold tools for clearer insights in home automation and observability.</p></section></a><footer class=post-card-meta><img class=author-profile-image src=https://omarghader.github.io/img/me/omar.jpg alt=Author>
<span class=post-card-author><a href=https://omarghader.github.io/>Omar Ghader</a></span></footer></div></article></div></div></aside><div class=floating-header><div class=floating-header-logo><a href=https://omarghader.github.io/><img src=https://omarghader.github.io/img/logo.png alt>
<span></span></a></div><span class=floating-header-divider>&mdash;</span><div class=floating-header-title>Build a Smart Light Dimmer with ESP32 and a Rotary Encoder in Home Assistant</div><div class=floating-header-share><div class=floating-header-share-label>Share this<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.5 15.5V4a1.5 1.5.0 113 0v4.5h2a1 1 0 011 1h2a1 1 0 011 1H18a1.5 1.5.0 011.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2.0 011.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg></div><a class=floating-header-share-tw href="https://twitter.com/share?text=Build%20a%20Smart%20Light%20Dimmer%20with%20ESP32%20and%20a%20Rotary%20Encoder%20in%20Home%20Assistant&url=https%3a%2f%2fomarghader.github.io%2fesp32-rotary-encoder-smart-light-dimmer-home-assistant%2f" onclick="return window.open(this.href,'share-twitter','width=550,height=235'),!1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088.0 01-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015.0 01-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25.0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688.0 5.063-.875 7.188-2.5-1.25.0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5.0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673.0 01-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228.0 01-1.875-2c-.5-.875-.688-1.813-.688-2.75.0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579.0 011.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48.0 003.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a><a class=floating-header-share-fb href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fomarghader.github.io%2fesp32-rotary-encoder-smart-light-dimmer-home-assistant%2f" onclick="return window.open(this.href,'share-facebook','width=580,height=296'),!1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86.0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg></a></div><progress class=progress value=0><div class=progress-container><span class=progress-bar></span></div></progress></div><footer class="site-footer outer"><div class="site-footer-content inner"><section class=copyright style=line-height:1.3em><a href=https://omarghader.github.io/>omarghader</a><br></section><nav class=site-footer-nav><a href=https://omarghader.github.io/>Latest Posts</a>
<a href=https://github.com/omarghader target=_blank rel=noopener>Github</a></nav></div></footer></div><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script type=text/javascript src=//code.jquery.com/jquery-3.2.1.min.js></script><script type=text/javascript src=https://omarghader.github.io/js/jquery.fitvids.js></script><script>hljs.initHighlightingOnLoad()</script><script>window.addEventListener("load",function(){var a=document.createElement("script");a.src="https://www.googletagmanager.com/gtag/js?id=G-SMB08YT14H",a.async=!0,document.head.appendChild(a),a.onload=function(){window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date),a("config","G-SMB08YT14H")}})</script><script>$(document).ready(function(){var j=$(".post-full-content"),g,d,e,b,f,c,a;j.fitVids(),g=document.querySelector('progress'),d=document.querySelector('.floating-header'),e=document.querySelector('.post-full-title'),b=window.scrollY,f=window.innerHeight,c=$(document).height(),a=!1;function k(){b=window.scrollY,h()}function l(){f=window.innerHeight,c=$(document).height(),h()}function h(){a||requestAnimationFrame(i),a=!0}function i(){var h=e.getBoundingClientRect().top+window.scrollY,i=e.offsetHeight+35,j=c-f;b>=h+i?d.classList.add('floating-active'):d.classList.remove('floating-active'),g.setAttribute('max',j),g.setAttribute('value',b),a=!1}window.addEventListener('scroll',k,{passive:!0}),window.addEventListener('resize',l,!1),i()})</script></body></html>